{"version":3,"sources":["../../../../../assets/Script/UI/assets/Script/UI/OnlineList.js"],"names":["cc","Class","extends","Component","properties","listNode","Node","onlinePlayer","Prefab","start","Init","list","GameMgr","instance","getOnlineList","forEach","addPlayer","it","player","playerNode","instantiate","getComponent","display","id","scriptData","Photo","displayName","parent","name","removePlayer","getChildByName","destroy"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAUL,GAAGM,IADL;AAERC,sBAAcP,GAAGQ;AAFT,KAHP;;AAQLC,SARK,mBASL;AACI,aAAKC,IAAL;AACH,KAXI;AAaLA,QAbK,kBAcL;AAAA;;AACI,YAAIC,OAAOC,QAAQC,QAAR,CAAiBC,aAAjB,EAAX;AACAH,aAAKI,OAAL,CAAa,cAAM;AACf,kBAAKC,SAAL,CAAeC,EAAf;AACH,SAFD;AAGH,KAnBI;AAqBLD,aArBK,qBAqBKE,MArBL,EAsBL;AAAA;;AACI,YAAIC,aAAanB,GAAGoB,WAAH,CAAe,KAAKb,YAApB,CAAjB;AACIY,mBAAWE,YAAX,CAAwB,cAAxB,EAAwCC,OAAxC,CAAgDJ,OAAOK,EAAvD,EAA2DL,OAAOM,UAAP,CAAkBC,KAA7E,EAAoFP,OAAOQ,WAA3F,EAAwG,YAAI;AACxGP,uBAAWQ,MAAX,GAAoB,OAAKtB,QAAzB;AACAc,uBAAWS,IAAX,GAAkBV,OAAOK,EAAzB;AACH,SAHD;AAIP,KA5BI;AA8BLM,gBA9BK,wBA8BQX,MA9BR,EA+BL;AACI,YAAIC,aAAa,KAAKd,QAAL,CAAcyB,cAAd,CAA6BZ,MAA7B,CAAjB;AACA,YAAIC,UAAJ,EACA;AACIA,uBAAWY,OAAX;AACH;AACJ;AArCI,CAAT","file":"OnlineList.js","sourceRoot":"../../../../../assets/Script/UI","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        listNode: cc.Node,\n        onlinePlayer: cc.Prefab\n    },\n\n    start()\n    {\n        this.Init();\n    },\n\n    Init()\n    {\n        let list = GameMgr.instance.getOnlineList();\n        list.forEach(it => {\n            this.addPlayer(it);\n        });\n    },\n\n    addPlayer(player)\n    {\n        let playerNode = cc.instantiate(this.onlinePlayer);\n            playerNode.getComponent(\"OnlinePlayer\").display(player.id, player.scriptData.Photo, player.displayName, ()=>{\n                playerNode.parent = this.listNode;\n                playerNode.name = player.id;\n            });\n    },\n\n    removePlayer(player)\n    {\n        let playerNode = this.listNode.getChildByName(player);\n        if (playerNode)\n        {\n            playerNode.destroy();\n        }\n    }\n});\n"]}