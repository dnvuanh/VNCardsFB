{"version":3,"sources":["CountDown.js"],"names":["cc","Class","extends","Component","properties","secondString","Label","start","node","active","show","timeStart","totalSecond","display","string","currentDisplay","hide","update","dt","timeNow","Date","now","remainSecond","Math","floor"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,sBAAcL,GAAGM;AADT,KAHP;;AAOLC,SAPK,mBAQL;AACI,aAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH,KAVI;AAYLC,QAZK,gBAYAC,SAZA,EAYWC,WAZX,EAaL;AACI,aAAKP,YAAL,CAAkBG,IAAlB,CAAuBK,OAAvB,GAAiC,IAAjC;AACA,aAAKF,SAAL,GAAiBA,SAAjB;AACA,aAAKN,YAAL,CAAkBS,MAAlB,GAA2BF,WAA3B;AACA,aAAKG,cAAL,GAAsBH,WAAtB;AACA,aAAKA,WAAL,GAAmBA,WAAnB;AACH,KAnBI;AAqBLI,QArBK,kBAsBL;AACI,aAAKR,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH,KAxBI;AA0BLQ,UA1BK,kBA0BEC,EA1BF,EA2BL;AACI,YAAIC,UAAUC,KAAKC,GAAL,EAAd;AACA,YAAIC,eAAe,KAAKV,WAAL,GAAmBW,KAAKC,KAAL,CAAW,CAACL,UAAU,KAAKR,SAAhB,IAA2B,IAAtC,CAAtC;AACA,YAAIW,eAAe,CAAnB,EACA;AACI,gBAAIA,gBAAgB,KAAKP,cAAzB,EACA;AACI,qBAAKV,YAAL,CAAkBS,MAAlB,GAA2BQ,YAA3B;AACA,qBAAKP,cAAL,GAAsBO,YAAtB;AACH;AACJ,SAPD,MASA;AACI,iBAAKN,IAAL;AACH;AACJ;AA1CI,CAAT","file":"CountDown.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        secondString: cc.Label\r\n    },\r\n\r\n    start()\r\n    {\r\n        this.node.active = false;\r\n    },\r\n\r\n    show(timeStart, totalSecond)\r\n    {\r\n        this.secondString.node.display = true;\r\n        this.timeStart = timeStart;\r\n        this.secondString.string = totalSecond;\r\n        this.currentDisplay = totalSecond;\r\n        this.totalSecond = totalSecond;\r\n    },\r\n\r\n    hide()\r\n    {\r\n        this.node.active = false;\r\n    },\r\n\r\n    update(dt)\r\n    {\r\n        let timeNow = Date.now();\r\n        let remainSecond = this.totalSecond - Math.floor((timeNow - this.timeStart)/1000);\r\n        if (remainSecond > 0)\r\n        {\r\n            if (remainSecond <= this.currentDisplay)\r\n            {\r\n                this.secondString.string = remainSecond;\r\n                this.currentDisplay = remainSecond;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.hide();\r\n        }\r\n    }\r\n});\r\n"]}