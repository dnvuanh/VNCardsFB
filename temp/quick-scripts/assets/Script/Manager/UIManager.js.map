{"version":3,"sources":["UIManager.js"],"names":["Loading","require","UIManager","cc","Class","extends","Component","properties","loadingscreen","MenuGame","statics","instance","onLoad","MenuStack","CurrentMenu","start","GameMgr","onInit","showLoading","display","show","hide","showMenu","menuName","closeCurrent","menu","node","getChildByName","active","push","length","lastMenu","splice","closeCurrentMenu","nextMenu","closeAllMenu","childs","children","forEach","element","initOnlineList","onlineList","Init","addPlayer","player","removePlayer","console","log","playerEnterSeat","playerInfo","seat","playerLeaveSeat","setHost","playerId","setEnableStartButton","enable","onCardsReceived","cards","getSelectedCards"],"mappings":"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","file":"UIManager.js","sourceRoot":"../../../../../assets/Script/Manager","sourcesContent":["var Loading = require(\"Loading\");\nvar UIManager = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        loadingscreen: Loading,\n        MenuGame: require(\"MenuGame\"),\n    },\n    \n    statics:\n    {\n        instance: null,\n    },\n    \n    onLoad()\n    {\n        UIManager.instance = this;\n        this.MenuStack = [];\n        this.CurrentMenu = null;\n    },\n\n    start()\n    {\n        GameMgr.instance.onInit();\n    },\n\n    showLoading(display)\n    {\n        if (display)\n            this.loadingscreen.show();\n        else\n            this.loadingscreen.hide();\n    },\n    \n    showMenu(menuName, closeCurrent=true)\n    {\n        let menu = this.node.getChildByName(menuName);\n        if (menu != null)\n        {\n            menu.active = true;\n            this.MenuStack.push(menuName);\n            this.CurrentMenu = menuName;\n        }\n        \n        if (this.MenuStack.length > 1)\n        {\n            let lastMenu = this.node.getChildByName(this.MenuStack[this.MenuStack.length - 2]);\n                lastMenu.active = false;\n\n            if (closeCurrent)\n                this.MenuStack.splice(this.MenuStack.length - 2,1);\n        }\n        return menu;\n    },\n    \n    closeCurrentMenu()\n    {\n        if (this.MenuStack.length > 1)\n        {\n            let nextMenu = this.node.getChildByName(this.MenuStack[this.MenuStack.length-2]);\n                nextMenu.active = true;\n        }\n        \n        let menu = this.node.getChildByName(this.CurrentMenu);\n            menu.active = false;\n        \n        this.MenuStack.splice(this.MenuStack.length-1, 1);\n        this.CurrentMenu = this.MenuStack[this.MenuStack.length];\n    },\n\n    closeAllMenu()\n    {\n        let childs = this.node.children;\n            childs.forEach(element => {\n                element.active = false;\n            });\n    },\n\n    initOnlineList()\n    {\n        this.onlineList.Init();\n    },\n\n    addPlayer(player)\n    {\n        this.MenuGame.addPlayer(player);\n    },\n\n    removePlayer(player)\n    {\n        console.log(player);\n        this.MenuGame.removePlayer(player);\n    },\n    \n    playerEnterSeat(playerInfo, seat)\n    {\n        this.MenuGame.playerEnterSeat(playerInfo, seat);\n    },\n\n    playerLeaveSeat(seat)\n    {\n        this.MenuGame.playerLeaveSeat(seat);\n    },\n\n    setHost(playerId)\n    {\n        this.MenuGame.setHost(playerId);\n    },\n\n    setEnableStartButton(enable) {\n        this.MenuGame.setEnableStartButton(enable);\n    },\n\n    onCardsReceived(cards) {\n        this.MenuGame.onCardsReceived(cards);\n    },\n\n    getSelectedCards()\n    {\n        return this.MenuGame.getSelectedCards();\n    }\n});\n"]}