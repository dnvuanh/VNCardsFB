{"version":3,"sources":["UIManager.js"],"names":["Loading","require","UIManager","cc","Class","extends","Component","properties","loadingscreen","MenuGame","statics","instance","onLoad","MenuStack","CurrentMenu","showLoading","display","show","hide","showMenu","menuName","closeCurrent","menu","node","getChildByName","active","push","length","lastMenu","splice","closeCurrentMenu","nextMenu","closeAllMenu","childs","children","forEach","element","initOnlineList","onlineList","Init","addPlayer","player","removePlayer","console","log","enterRoom","roomName"],"mappings":";;;;;;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,YAAYC,GAAGC,KAAH,CAAS;AACrBC,aAASF,GAAGG,SADS;;AAGrBC,gBAAY;AACRC,uBAAeR,OADP;AAERS,kBAAUR,QAAQ,UAAR;AAFF,KAHS;;AAQrBS,aACA;AACIC,kBAAU;AADd,KATqB;;AAarBC,UAbqB,oBAcrB;AACIV,kBAAUS,QAAV,GAAqB,IAArB;AACA,aAAKE,SAAL,GAAiB,EAAjB;AACA,aAAKC,WAAL,GAAmB,IAAnB;AACH,KAlBoB;AAoBrBC,eApBqB,uBAoBTC,OApBS,EAqBrB;AACI,YAAIA,OAAJ,EACI,KAAKR,aAAL,CAAmBS,IAAnB,GADJ,KAGI,KAAKT,aAAL,CAAmBU,IAAnB;AACP,KA1BoB;AA4BrBC,YA5BqB,oBA4BZC,QA5BY,EA6BrB;AAAA,YADmBC,YACnB,uEADgC,IAChC;;AACI,YAAIC,OAAO,KAAKC,IAAL,CAAUC,cAAV,CAAyBJ,QAAzB,CAAX;AACA,YAAIE,QAAQ,IAAZ,EACA;AACIA,iBAAKG,MAAL,GAAc,IAAd;AACA,iBAAKZ,SAAL,CAAea,IAAf,CAAoBN,QAApB;AACA,iBAAKN,WAAL,GAAmBM,QAAnB;AACH;;AAED,YAAI,KAAKP,SAAL,CAAec,MAAf,GAAwB,CAA5B,EACA;AACI,gBAAIC,WAAW,KAAKL,IAAL,CAAUC,cAAV,CAAyB,KAAKX,SAAL,CAAe,KAAKA,SAAL,CAAec,MAAf,GAAwB,CAAvC,CAAzB,CAAf;AACIC,qBAASH,MAAT,GAAkB,KAAlB;;AAEJ,gBAAIJ,YAAJ,EACI,KAAKR,SAAL,CAAegB,MAAf,CAAsB,KAAKhB,SAAL,CAAec,MAAf,GAAwB,CAA9C,EAAgD,CAAhD;AACP;AACD,eAAOL,IAAP;AACH,KA/CoB;AAiDrBQ,oBAjDqB,8BAkDrB;AACI,YAAI,KAAKjB,SAAL,CAAec,MAAf,GAAwB,CAA5B,EACA;AACI,gBAAII,WAAW,KAAKR,IAAL,CAAUC,cAAV,CAAyB,KAAKX,SAAL,CAAe,KAAKA,SAAL,CAAec,MAAf,GAAsB,CAArC,CAAzB,CAAf;AACII,qBAASN,MAAT,GAAkB,IAAlB;AACP;;AAED,YAAIH,OAAO,KAAKC,IAAL,CAAUC,cAAV,CAAyB,KAAKV,WAA9B,CAAX;AACIQ,aAAKG,MAAL,GAAc,KAAd;;AAEJ,aAAKZ,SAAL,CAAegB,MAAf,CAAsB,KAAKhB,SAAL,CAAec,MAAf,GAAsB,CAA5C,EAA+C,CAA/C;AACA,aAAKb,WAAL,GAAmB,KAAKD,SAAL,CAAe,KAAKA,SAAL,CAAec,MAA9B,CAAnB;AACH,KA9DoB;AAgErBK,gBAhEqB,0BAiErB;AACI,YAAIC,SAAS,KAAKV,IAAL,CAAUW,QAAvB;AACID,eAAOE,OAAP,CAAe,mBAAW;AACtBC,oBAAQX,MAAR,GAAiB,KAAjB;AACH,SAFD;AAGP,KAtEoB;AAwErBY,kBAxEqB,4BAyErB;AACI,aAAKC,UAAL,CAAgBC,IAAhB;AACH,KA3EoB;AA6ErBC,aA7EqB,qBA6EXC,MA7EW,EA8ErB;AACI,aAAKhC,QAAL,CAAc+B,SAAd,CAAwBC,MAAxB;AACH,KAhFoB;AAkFrBC,gBAlFqB,wBAkFRD,MAlFQ,EAmFrB;AACIE,gBAAQC,GAAR,CAAYH,MAAZ;AACA,aAAKhC,QAAL,CAAciC,YAAd,CAA2BD,MAA3B;AACH,KAtFoB;AAwFrBI,aAxFqB,qBAwFXC,QAxFW,EAyFrB;AACI3B,iBAAS,eAAT;AACH;AA3FoB,CAAT,CAAhB","file":"UIManager.js","sourceRoot":"../../../../../assets/Script/Manager","sourcesContent":["var Loading = require(\"Loading\");\nvar UIManager = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        loadingscreen: Loading,\n        MenuGame: require(\"MenuGame\"),\n    },\n    \n    statics:\n    {\n        instance: null,\n    },\n    \n    onLoad()\n    {\n        UIManager.instance = this;\n        this.MenuStack = [];\n        this.CurrentMenu = null;\n    },\n\n    showLoading(display)\n    {\n        if (display)\n            this.loadingscreen.show();\n        else\n            this.loadingscreen.hide();\n    },\n    \n    showMenu(menuName, closeCurrent=true)\n    {\n        let menu = this.node.getChildByName(menuName);\n        if (menu != null)\n        {\n            menu.active = true;\n            this.MenuStack.push(menuName);\n            this.CurrentMenu = menuName;\n        }\n        \n        if (this.MenuStack.length > 1)\n        {\n            let lastMenu = this.node.getChildByName(this.MenuStack[this.MenuStack.length - 2]);\n                lastMenu.active = false;\n\n            if (closeCurrent)\n                this.MenuStack.splice(this.MenuStack.length - 2,1);\n        }\n        return menu;\n    },\n    \n    closeCurrentMenu()\n    {\n        if (this.MenuStack.length > 1)\n        {\n            let nextMenu = this.node.getChildByName(this.MenuStack[this.MenuStack.length-2]);\n                nextMenu.active = true;\n        }\n        \n        let menu = this.node.getChildByName(this.CurrentMenu);\n            menu.active = false;\n        \n        this.MenuStack.splice(this.MenuStack.length-1, 1);\n        this.CurrentMenu = this.MenuStack[this.MenuStack.length];\n    },\n\n    closeAllMenu()\n    {\n        let childs = this.node.children;\n            childs.forEach(element => {\n                element.active = false;\n            });\n    },\n\n    initOnlineList()\n    {\n        this.onlineList.Init();\n    },\n\n    addPlayer(player)\n    {\n        this.MenuGame.addPlayer(player);\n    },\n\n    removePlayer(player)\n    {\n        console.log(player);\n        this.MenuGame.removePlayer(player);\n    },\n    \n    enterRoom(roomName)\n    {\n        showMenu(\"MenuMatchRoom\");\n    },\n});\n"]}