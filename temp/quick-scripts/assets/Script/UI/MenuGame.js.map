{"version":3,"sources":["MenuGame.js"],"names":["MenuScene","require","ObjectPool","cc","Class","extends","properties","onlineList","chatBox","SeatMgr","ButtonLeave","Node","ButtonStart","InGameButtons","myCardNode","start","active","node","seatOccupied","addPlayer","player","removePlayer","requestSeat","sender","seat","console","log","GSMgr","instance","parseInt","requestLeaveSeat","leaveSeat","GameMgr","getMySeat","playerEnterSeat","playerInfo","onPlayerEnter","IsMyId","id","playerLeaveSeat","setEnableStartButton","onPlayerLeave","setHost","playerId","enable","chatBoxClick","onlineClick","onStartGameClick","startGame","onCardsReceived","cards","i","length","card","getCard","setParent"],"mappings":";;;;;;AACA,IAAIA,YAAYC,QAAQ,WAAR,CAAhB;AACA,IAAIC,aAAaD,QAAQ,YAAR,CAAjB;;AAEAE,GAAGC,KAAH,CAAS;AACLC,aAASL,SADJ;;AAGLM,gBAAY;AACRC,oBAAYN,QAAQ,YAAR,CADJ;AAERO,iBAASP,QAAQ,SAAR,CAFD;AAGRQ,iBAASR,QAAQ,SAAR,CAHD;AAIRS,qBAAaP,GAAGQ,IAJR;AAKRC,qBAAaT,GAAGQ,IALR;AAMRE,uBAAeV,GAAGQ,IANV;AAORG,oBAAYX,GAAGQ;AAPP,KAHP;;AAaLI,SAbK,mBAcL;AACI,aAAKL,WAAL,CAAiBM,MAAjB,GAA0B,KAA1B;AACA,aAAKJ,WAAL,CAAiBI,MAAjB,GAA0B,KAA1B;AACA,aAAKH,aAAL,CAAmBG,MAAnB,GAA4B,KAA5B;AACA,aAAKT,UAAL,CAAgBU,IAAhB,CAAqBD,MAArB,GAA8B,IAA9B;AACA,aAAKR,OAAL,CAAaS,IAAb,CAAkBD,MAAlB,GAA2B,KAA3B;AACA,aAAKE,YAAL,GAAoB,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,CAApB;AACH,KArBI;AAuBLC,aAvBK,qBAuBKC,MAvBL,EAwBL;AACI,aAAKb,UAAL,CAAgBY,SAAhB,CAA0BC,MAA1B;AACH,KA1BI;AA4BLC,gBA5BK,wBA4BQD,MA5BR,EA6BL;AACI,aAAKb,UAAL,CAAgBc,YAAhB,CAA6BD,MAA7B;AACH,KA/BI;AAiCLE,eAjCK,uBAiCOC,MAjCP,EAiCeC,IAjCf,EAkCL;AACIC,gBAAQC,GAAR,CAAY,cAAZ;AACAC,cAAMC,QAAN,CAAeN,WAAf,CAA2BO,SAASL,IAAT,CAA3B;AACH,KArCI;AAuCLM,oBAvCK,8BAwCL;AACIH,cAAMC,QAAN,CAAeG,SAAf,CAAyBC,QAAQJ,QAAR,CAAiBK,SAAjB,EAAzB;AACH,KA1CI;AA4CLC,mBA5CK,2BA4CWC,UA5CX,EA4CuBX,IA5CvB,EA6CL;AACI,aAAKN,YAAL,CAAkBM,IAAlB,IAA0B,IAA1B;AACA,aAAKf,OAAL,CAAa2B,aAAb,CAA2BD,UAA3B,EAAuCX,IAAvC;AACA,YAAIQ,QAAQJ,QAAR,CAAiBS,MAAjB,CAAwBF,WAAWG,EAAnC,CAAJ,EACA;AACI,iBAAK5B,WAAL,CAAiBM,MAAjB,GAA0B,IAA1B;AACH;AACJ,KApDI;AAsDLuB,mBAtDK,2BAsDWf,IAtDX,EAuDL;AACI,YAAIQ,QAAQJ,QAAR,CAAiBK,SAAjB,MAAgCT,IAApC,EACA;AACI,iBAAKd,WAAL,CAAiBM,MAAjB,GAA0B,KAA1B;AACA,iBAAKwB,oBAAL,CAA0B,KAA1B;AACH;AACD,aAAK/B,OAAL,CAAagC,aAAb,CAA2BjB,IAA3B;AACH,KA9DI;AAgELkB,WAhEK,mBAgEGC,QAhEH,EAiEL;AACI,aAAKlC,OAAL,CAAaiC,OAAb,CAAqBC,QAArB;AACH,KAnEI;AAqELH,wBArEK,gCAqEgBI,MArEhB,EAqEwB;AACzB,aAAKhC,WAAL,CAAiBI,MAAjB,GAA0B4B,MAA1B;AACH,KAvEI;AAyELC,gBAzEK,0BA0EL;AACI,aAAKtC,UAAL,CAAgBU,IAAhB,CAAqBD,MAArB,GAA8B,KAA9B;AACA,aAAKR,OAAL,CAAaS,IAAb,CAAkBD,MAAlB,GAA2B,IAA3B;AACH,KA7EI;AA+EL8B,eA/EK,yBAgFL;AACI,aAAKvC,UAAL,CAAgBU,IAAhB,CAAqBD,MAArB,GAA8B,IAA9B;AACA,aAAKR,OAAL,CAAaS,IAAb,CAAkBD,MAAlB,GAA2B,KAA3B;AACH,KAnFI;AAqFL+B,oBArFK,8BAsFL;AACIpB,cAAMC,QAAN,CAAeoB,SAAf;AACA,aAAKpC,WAAL,CAAiBI,MAAjB,GAA0B,KAA1B;AACH,KAzFI;AA2FLiC,mBA3FK,2BA2FWC,KA3FX,EA4FL;AACIzB,gBAAQC,GAAR,CAAY,qBAAqBwB,KAAjC;AACA,aAAK,IAAIC,IAAE,CAAX,EAAcA,IAAED,MAAME,MAAtB,EAA8BD,GAA9B,EACA;AACI,gBAAIE,OAAOnD,WAAW0B,QAAX,CAAoB0B,OAApB,CAA4BJ,MAAMC,CAAN,CAA5B,CAAX;AACIE,iBAAKE,SAAL,CAAe,KAAKzC,UAApB;AACP;AACJ;AAnGI,CAAT","file":"MenuGame.js","sourceRoot":"../../../../../assets/Script/UI","sourcesContent":["\nvar MenuScene = require(\"MenuScene\");\nvar ObjectPool = require(\"ObjectPool\");\n\ncc.Class({\n    extends: MenuScene,\n\n    properties: {\n        onlineList: require(\"OnlineList\"),\n        chatBox: require(\"ChatBox\"),\n        SeatMgr: require(\"SeatMgr\"),\n        ButtonLeave: cc.Node,\n        ButtonStart: cc.Node,\n        InGameButtons: cc.Node,\n        myCardNode: cc.Node,\n    },\n\n    start()\n    {\n        this.ButtonLeave.active = false;\n        this.ButtonStart.active = false;\n        this.InGameButtons.active = false;\n        this.onlineList.node.active = true;\n        this.chatBox.node.active = false;\n        this.seatOccupied = [false, false, false, false];\n    },\n\n    addPlayer(player)\n    {\n        this.onlineList.addPlayer(player);\n    },\n\n    removePlayer(player)\n    {\n        this.onlineList.removePlayer(player);\n    },\n\n    requestSeat(sender, seat)\n    {\n        console.log(\"request Seat\");\n        GSMgr.instance.requestSeat(parseInt(seat));\n    },\n\n    requestLeaveSeat()\n    {\n        GSMgr.instance.leaveSeat(GameMgr.instance.getMySeat());\n    },\n\n    playerEnterSeat(playerInfo, seat)\n    {\n        this.seatOccupied[seat] = true;\n        this.SeatMgr.onPlayerEnter(playerInfo, seat);\n        if (GameMgr.instance.IsMyId(playerInfo.id))\n        {\n            this.ButtonLeave.active = true;\n        }\n    },\n\n    playerLeaveSeat(seat)\n    {\n        if (GameMgr.instance.getMySeat() == seat)\n        {\n            this.ButtonLeave.active = false;\n            this.setEnableStartButton(false);\n        }\n        this.SeatMgr.onPlayerLeave(seat);\n    },\n\n    setHost(playerId)\n    {\n        this.SeatMgr.setHost(playerId);\n    },\n\n    setEnableStartButton(enable) {\n        this.ButtonStart.active = enable;\n    },\n\n    chatBoxClick()\n    {\n        this.onlineList.node.active = false;\n        this.chatBox.node.active = true;\n    },\n\n    onlineClick()\n    {\n        this.onlineList.node.active = true;\n        this.chatBox.node.active = false;\n    },\n\n    onStartGameClick()\n    {\n        GSMgr.instance.startGame();\n        this.ButtonStart.active = false;\n    },\n\n    onCardsReceived(cards)\n    {\n        console.log(\"on Card Receive \" + cards);\n        for (var i=0; i<cards.length; i++)\n        {\n            let card = ObjectPool.instance.getCard(cards[i]);\n                card.setParent(this.myCardNode);\n        }\n    }\n});\n"]}