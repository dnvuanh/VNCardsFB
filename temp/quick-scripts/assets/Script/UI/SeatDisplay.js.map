{"version":3,"sources":["SeatDisplay.js"],"names":["cc","Class","extends","Component","properties","displayNode","Node","avatar","Sprite","userName","Label","money","hostIcon","onLoad","active","display","playerInfo","playerId","id","photo","scriptData","Photo","displayName","ImageCache","loadAvatar","imgSprite","spriteFrame","console","log","string","getPlayerId","remove","setHost","isHost"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAaL,GAAGM,IADR;AAERC,gBAAQP,GAAGQ,MAFH;AAGRC,kBAAUT,GAAGU,KAHL;AAIRC,eAAOX,GAAGU,KAJF;AAKRE,kBAAUZ,GAAGM;AALL,KAHP;;AAWLO,UAXK,oBAYL;AACI,aAAKR,WAAL,CAAiBS,MAAjB,GAA0B,KAA1B;AACA,aAAKF,QAAL,CAAcE,MAAd,GAAuB,KAAvB;AACH,KAfI;AAiBLC,WAjBK,mBAiBGC,UAjBH,EAkBL;AAAA;;AACI,aAAKC,QAAL,GAAgBD,WAAWE,EAA3B;AACA,YAAIC,QAAQH,WAAWI,UAAX,CAAsBC,KAAlC;AACA,YAAIC,cAAcN,WAAWM,WAA7B;;AAEAC,mBAAWC,UAAX,CAAsB,KAAKP,QAA3B,EAAqCE,KAArC,EAA4C,UAACM,SAAD,EAAa;AACrD,gBAAIA,SAAJ,EACA;AACI,sBAAKlB,MAAL,CAAYmB,WAAZ,GAA0BD,SAA1B;AACH,aAHD,MAKA;AACIE,wBAAQC,GAAR,CAAY,qCAAqC,MAAKX,QAAtD;AACH;AACD,kBAAKR,QAAL,CAAcoB,MAAd,GAAuBP,WAAvB;AACA,kBAAKjB,WAAL,CAAiBS,MAAjB,GAA0B,IAA1B;AACH,SAXD;AAYH,KAnCI;AAqCLgB,eArCK,yBAsCL;AACI,eAAO,KAAKb,QAAZ;AACH,KAxCI;AA0CLc,UA1CK,oBA2CL;AACI,aAAKd,QAAL,GAAgB,IAAhB;AACA,aAAKL,QAAL,CAAcE,MAAd,GAAuB,KAAvB;AACA,aAAKT,WAAL,CAAiBS,MAAjB,GAA0B,KAA1B;AACH,KA/CI;AAiDLkB,WAjDK,mBAiDGC,MAjDH,EAkDL;AACI,aAAKrB,QAAL,CAAcE,MAAd,GAAuBmB,MAAvB;AACH;AApDI,CAAT","file":"SeatDisplay.js","sourceRoot":"../../../../../assets/Script/UI","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        displayNode: cc.Node,\n        avatar: cc.Sprite,\n        userName: cc.Label,\n        money: cc.Label,\n        hostIcon: cc.Node,\n    },\n\n    onLoad()\n    {\n        this.displayNode.active = false;\n        this.hostIcon.active = false;\n    },\n\n    display(playerInfo)\n    {\n        this.playerId = playerInfo.id;\n        let photo = playerInfo.scriptData.Photo;\n        let displayName = playerInfo.displayName;\n\n        ImageCache.loadAvatar(this.playerId, photo, (imgSprite)=>{\n            if (imgSprite)\n            {\n                this.avatar.spriteFrame = imgSprite;\n            }\n            else\n            {\n                console.log(\"Error while loading user avatar \" + this.playerId);\n            }\n            this.userName.string = displayName;\n            this.displayNode.active = true;\n        });\n    },\n\n    getPlayerId()\n    {\n        return this.playerId;\n    },\n\n    remove()\n    {\n        this.playerId = null;\n        this.hostIcon.active = false;\n        this.displayNode.active = false;\n    },\n\n    setHost(isHost)\n    {\n        this.hostIcon.active = isHost;\n    }\n});\n"]}